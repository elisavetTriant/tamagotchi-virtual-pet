(this["webpackJsonptamagotchi-virtual-pet"]=this["webpackJsonptamagotchi-virtual-pet"]||[]).push([[0],{291:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a(0),i=a.n(c),r=a(14),s=a.n(r),o=a(111),l=a(21),u=a(38),j=function(e,t){var a,n,c;return a=(new Date).getTime()+t,n=null,c=function(){return a+=t,n=setTimeout(c,a-(new Date).getTime()),e()},function(){return n},{cancel:function(){return clearTimeout(n)},timeoutID:n=setTimeout(c,a-(new Date).getTime())}},b=a(311),d=a(172);function m(){return Object(n.jsxs)(d.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(b.a,{color:"inherit",href:"#",children:"Tamagotchi Inspired Virtual Pet Game"})," ",(new Date).getFullYear(),"."]})}var p=a.p+"static/media/born-pet.153e1bf9.svg",h=a.p+"static/media/dead-pet.a5c7f1b5.svg",O=a.p+"static/media/disaster-pet.4ece71f2.svg",g=a.p+"static/media/exercise-pet.c3b2a3b4.svg",f=a.p+"static/media/food-pet.886e478e.svg",x=a.p+"static/media/happy-pet.0073bfbc.svg",v=a.p+"static/media/mischief-pet.e1412e66.svg",y=a.p+"static/media/sad-pet.746e9375.svg",S=a.p+"static/media/sick-pet.f617f147.svg",k=a.p+"static/media/tricks-pet.c92e9531.svg",C=a.p+"static/media/welcome-pet.3b345dac.svg",w=a(244),N=a(312),D=Object(w.a)((function(e){return{image:{width:130,height:130},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}));function I(e){var t=D(),a=Object(c.useState)(p),i=Object(u.a)(a,2),r=i[0],s=i[1];return Object(c.useEffect)((function(){[p,h,O,g,f,x,v,y,S,k,C].forEach((function(e){(new Image).src=e}))}),[]),Object(c.useEffect)((function(){0===e.age?s(p):e.age>3&&(e.happiness>=70?s(x):e.happiness<=30?s(y):s(C)),0===e.health&&s(h)}),[e.age,e.happiness,e.health]),Object(n.jsx)(N.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(n.jsx)("img",{className:t.img,alt:e.name,src:r})})}var T=a(250),F=a(160),E=a(313);function P(e){return Object(n.jsxs)(F.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(F.a,{width:"100%",mr:1,children:Object(n.jsx)(E.a,Object(T.a)({variant:"determinate"},e))}),Object(n.jsx)(F.a,{minWidth:35,children:Object(n.jsx)(d.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var G=a(296),M=a(317),W=a(318),B=a(253),H=a(326),R=a(319),L=a(322),q=a(323),J=a(324),Y=a(325),z=a(171),A=Object(w.a)((function(e){return{root:{flexGrow:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},paper:{padding:e.spacing(2),margin:"2rem auto",maxWidth:680}}}));var V=a(328),K=a(327),Q=Object(w.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(C,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var U=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,329)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:function(){var e=Object(l.f)(),t=Q(),a=Object(c.useState)(""),i=Object(u.a)(a,2),r=i[0],s=i[1];return Object(n.jsxs)(H.a,{container:!0,component:"main",className:t.root,children:[Object(n.jsx)(W.a,{}),Object(n.jsx)(H.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:8,md:5,component:B.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(V.a,{className:t.avatar}),Object(n.jsx)(d.a,{component:"h1",variant:"h5",children:"Start your game by giving your pet a name!"}),Object(n.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault(),""!==r&&e.push("/play/"+r)},method:"post",children:[Object(n.jsx)(K.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,id:"pet-name",label:"Your Pet Name",name:"name",autoComplete:"name",autoFocus:!0,value:r,onChange:function(e){s(e.target.value)}}),Object(n.jsx)(G.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Start Game!"}),Object(n.jsx)(F.a,{mt:5,children:Object(n.jsx)(m,{})})]})]})})]})}}),Object(n.jsx)(l.a,{path:"/play/:petName?",component:function(){var e=Object(c.useState)("Pippin"),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(0),o=Object(u.a)(s,2),b=o[0],p=o[1],h=Object(c.useState)(100),O=Object(u.a)(h,2),g=O[0],f=O[1],x=Object(c.useState)(0),v=Object(u.a)(x,2),y=v[0],S=v[1],k=Object(c.useState)(100),C=Object(u.a)(k,2),w=C[0],N=C[1],D=Object(c.useState)(!1),T=Object(u.a)(D,2),F=T[0],E=T[1],V=Object(c.useState)(!1),K=Object(u.a)(V,2),Q=K[0],U=K[1],X=Object(c.useState)(!1),Z=Object(u.a)(X,2),$=Z[0],_=Z[1],ee=Object(c.useRef)(),te=Object(c.useRef)(),ae=Object(l.g)().petName,ne=A(),ce=function(){var e=j((function(){se()}),1e3);ee.current=e},ie=function(e){var t=j((function(){re()}),e);te.current=t},re=function(){fetch("http://www.virtual-pet.uk/v1/event").then((function(e){return e.json()})).then((function(e){console.log(e),f((function(t){return le(t+e.impact.health)})),S((function(t){return le(t+e.impact.hunger)})),N((function(t){return le(t+e.impact.happiness)})),je(e.title+": "+e.description+" Impact, health: "+e.impact.health+" hunger: "+e.impact.hunger+" happiness: "+e.impact.happiness),te.current&&te.current.cancel(),ie(1e3*e.nextEvent),_(!1)})).catch((function(e){return console.log(e)}))},se=function(){p((function(e){return e+1})),f((function(e){return le(e-1)})),S((function(e){return le(e+1)})),N((function(e){return le(e-(Math.floor(5*Math.random())+1))}))},oe=function(){p(0),f(100),S(0),N(100),ee.current&&ee.current.cancel(),te.current&&te.current.cancel(),E(!1),_(!1),ce(),ie(5e3)},le=function(e){return e>=0&&e<=100?e:e>100?100:0},ue=function(){U(!1)},je=Object(c.useCallback)((function(e){return z.StaticBanner.show({icon:Object(n.jsx)("div",{}),open:$,label:e})}),[$]);return Object(c.useEffect)((function(){g<=0&&(E(!0),U(!0),_(!1),ee.current&&ee.current.cancel(),te.current&&te.current.cancel())}),[g]),Object(c.useEffect)((function(){void 0!==ae&&r(ae)}),[ae]),Object(c.useEffect)((function(){ce(),ie(5e3)}),[]),Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(W.a,{}),Object(n.jsx)(z.StaticBanner,{open:$}),Object(n.jsxs)(H.a,{container:!0,component:"main",className:ne.root,children:[Object(n.jsx)(B.a,{className:ne.paper,children:Object(n.jsxs)(H.a,{container:!0,spacing:2,children:[Object(n.jsx)(H.a,{item:!0,xs:12,sm:12,md:6,container:!0,children:Object(n.jsx)(H.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(n.jsxs)(H.a,{item:!0,xs:!0,children:[Object(n.jsx)(d.a,{variant:"h2",children:a}),Object(n.jsxs)(d.a,{variant:"h6",children:["Age: ",b]}),Object(n.jsx)(d.a,{variant:"body1",children:"Health:"}),Object(n.jsx)(P,{value:g}),Object(n.jsx)(d.a,{variant:"body1",children:"Hunger:"}),Object(n.jsx)(P,{value:y}),Object(n.jsx)(d.a,{variant:"body1",children:"Happiness:"}),Object(n.jsx)(P,{value:w}),Object(n.jsxs)(M.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group",children:[Object(n.jsx)(G.a,{disabled:F,onClick:function(){F||f((function(e){return le(e+1)}))},children:"Clean"}),Object(n.jsx)(G.a,{disabled:F,onClick:function(){F||S((function(e){return le(e-1)}))},children:"Feed"}),Object(n.jsx)(G.a,{disabled:F,onClick:function(){F||N((function(e){return le(e+(Math.floor(5*Math.random())+1))}))},children:"Play"})]}),Object(n.jsx)(G.a,{disabled:F,onClick:oe,children:"Reset Game"})]})})}),Object(n.jsx)(H.a,{item:!0,xs:12,sm:12,md:6,children:Object(n.jsx)(I,{name:a,happiness:w,age:b,health:g})})]})}),Object(n.jsx)(m,{})]}),F&&Object(n.jsxs)(R.a,{open:Q,onClose:ue,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Y.a,{id:"alert-dialog-title",children:"Game Over!"}),Object(n.jsx)(q.a,{children:Object(n.jsx)(J.a,{id:"alert-dialog-description",children:"Great job! Let's play again!"})}),Object(n.jsxs)(L.a,{children:[Object(n.jsx)(G.a,{onClick:ue,color:"primary",children:"Close"}),Object(n.jsx)(G.a,{onClick:oe,color:"primary",autoFocus:!0,children:"Start Over!"})]})]})]})}})]})}),document.getElementById("root")),U(console.log)}},[[291,1,2]]]);
//# sourceMappingURL=main.9f650593.chunk.js.map