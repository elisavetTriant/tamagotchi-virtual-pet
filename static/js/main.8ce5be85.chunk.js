(this["webpackJsonptamagotchi-virtual-pet"]=this["webpackJsonptamagotchi-virtual-pet"]||[]).push([[0],{291:function(e,t,a){"use strict";a.r(t);var n=a(9),c=a(0),i=a.n(c),r=a(14),s=a.n(r),o=a(111),l=a(21),u=a(41),j=a.p+"static/media/disaster-pet.66e47975.svg",d=a.p+"static/media/exercise-pet.75910bf6.svg",b=a.p+"static/media/food-pet.9caf0685.svg",p=a.p+"static/media/mischief-pet.8eb9f2c1.svg",m=a.p+"static/media/sick-pet.756362e5.svg",h=a.p+"static/media/tricks-pet.bed47d2e.svg",g=a.p+"static/media/welcome-pet.2e06b49f.svg",f=function(e,t){var a,n,c;return a=(new Date).getTime()+t,n=null,c=function(){return a+=t,n=setTimeout(c,a-(new Date).getTime()),e()},function(){return n},{cancel:function(){return clearTimeout(n)},timeoutID:n=setTimeout(c,a-(new Date).getTime())}},O=a(311),x=a(172);function v(){return Object(n.jsxs)(x.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(n.jsx)(O.a,{color:"inherit",href:"#",children:"Tamagotchi Inspired Virtual Pet Game"})," ",(new Date).getFullYear(),"."]})}var y=a.p+"static/media/born-pet.795e4fb5.svg",k=a.p+"static/media/dead-pet.4e5c176a.svg",C=a.p+"static/media/happy-pet.37a25a85.svg",S=a.p+"static/media/love-pet.ac68afd2.svg",w=a.p+"static/media/sad-pet.f8da9027.svg",N=a.p+"static/media/crying-pet.1173674d.svg",D=a(244),T=a(312),F=Object(D.a)((function(e){return{image:{width:130,height:130},img:{margin:"auto",display:"block",maxWidth:"100%",maxHeight:"100%"}}}));function I(e){var t=F(),a=Object(c.useState)(y),i=Object(u.a)(a,2),r=i[0],s=i[1];return Object(c.useEffect)((function(){[y,k,C,w,g,S,N].forEach((function(e){(new Image).src=e}))}),[]),Object(c.useEffect)((function(){0===e.age?s(y):e.age>3&&(e.happiness>=70&&e.happiness<=90?s(C):e.happiness<=30&&e.happiness>0?s(w):e.happiness>90?s(S):0===e.happiness?s(N):s(g)),0===e.health&&s(k)}),[e.age,e.happiness,e.health]),Object(n.jsx)(T.a,{in:!0,style:{transitionDelay:"500ms"},children:Object(n.jsx)("img",{className:t.img,alt:e.name,src:r})})}var E=a(250),P=a(160),G=a(313);function L(e){return Object(n.jsxs)(P.a,{display:"flex",alignItems:"center",children:[Object(n.jsx)(P.a,{width:"100%",mr:1,children:Object(n.jsx)(G.a,Object(E.a)({variant:"determinate"},e))}),Object(n.jsx)(P.a,{minWidth:35,children:Object(n.jsx)(x.a,{variant:"body2",color:"textSecondary",children:"".concat(Math.round(e.value),"%")})})]})}var M=a(296),W=a(317),B=a(318),H=a(253),R=a(326),q=a(319),J=a(322),Y=a(323),z=a(324),A=a(325),U=a(171),V=Object(D.a)((function(e){return{root:{flexGrow:1,alignItems:"center",justifyContent:"center",flexDirection:"column"},paper:{padding:e.spacing(2),margin:"2rem auto",maxWidth:680},avatarLarge:{width:72,height:72}}})),K=function(e){return e>=0&&e<=100?e:e>100?100:0};var Q=a(328),X=a(327),Z=Object(D.a)((function(e){return{root:{height:"100vh"},image:{backgroundImage:"url(".concat(g,")"),backgroundRepeat:"no-repeat",backgroundColor:"light"===e.palette.type?e.palette.grey[50]:e.palette.grey[900],backgroundSize:"cover",backgroundPosition:"center"},paper:{margin:e.spacing(8,4),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var $=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,329)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),i(e),r(e)}))};s.a.render(Object(n.jsx)(o.a,{children:Object(n.jsxs)(l.c,{children:[Object(n.jsx)(l.a,{exact:!0,path:"/",component:function(){var e=Object(l.f)(),t=Z(),a=Object(c.useState)(""),i=Object(u.a)(a,2),r=i[0],s=i[1];return Object(n.jsxs)(R.a,{container:!0,component:"main",className:t.root,children:[Object(n.jsx)(B.a,{}),Object(n.jsx)(R.a,{item:!0,xs:!1,sm:4,md:7,className:t.image}),Object(n.jsx)(R.a,{item:!0,xs:12,sm:8,md:5,component:H.a,elevation:6,square:!0,children:Object(n.jsxs)("div",{className:t.paper,children:[Object(n.jsx)(Q.a,{className:t.avatar}),Object(n.jsx)(x.a,{component:"h1",variant:"h5",children:"Start your game by giving your pet a name!"}),Object(n.jsxs)("form",{className:t.form,onSubmit:function(t){t.preventDefault(),""!==r&&e.push("/play/"+r)},method:"post",children:[Object(n.jsx)(X.a,{variant:"outlined",margin:"normal",fullWidth:!0,required:!0,id:"pet-name",label:"Your Pet Name",name:"name",autoComplete:"name",autoFocus:!0,value:r,onChange:function(e){s(e.target.value)}}),Object(n.jsx)(M.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit,children:"Start Game!"}),Object(n.jsx)(P.a,{mt:5,children:Object(n.jsx)(v,{})})]})]})})]})}}),Object(n.jsx)(l.a,{path:"/play/:petName?",component:function(){var e=Object(c.useState)("Pippin"),t=Object(u.a)(e,2),a=t[0],r=t[1],s=Object(c.useState)(0),o=Object(u.a)(s,2),O=o[0],y=o[1],k=Object(c.useState)(100),C=Object(u.a)(k,2),S=C[0],w=C[1],N=Object(c.useState)(0),D=Object(u.a)(N,2),T=D[0],F=D[1],E=Object(c.useState)(100),P=Object(u.a)(E,2),G=P[0],Q=P[1],X=Object(c.useState)(!1),Z=Object(u.a)(X,2),$=Z[0],_=Z[1],ee=Object(c.useState)(!1),te=Object(u.a)(ee,2),ae=te[0],ne=te[1],ce=Object(c.useRef)(),ie=Object(c.useRef)(),re=Object(l.g)().petName,se=V(),oe=function(){var e=f((function(){je()}),1e3);ce.current=e},le=function(e){var t=f((function(){ue()}),e);ie.current=t},ue=function(){fetch("https://www.virtual-pet.uk/v1/event").then((function(e){return e.json()})).then((function(e){w((function(t){return K(t+e.impact.health)})),F((function(t){return K(t+e.impact.hunger)})),Q((function(t){return K(t+e.impact.happiness)})),pe(e.type.toUpperCase()+"! "+e.title+": "+e.description+" Impact, health: "+e.impact.health+" hunger: "+e.impact.hunger+" happiness: "+e.impact.happiness,function(e){var t;switch(e){case"Natural Disaster":t=j;break;case"Food":t=b;break;case"Mischief":t=p;break;case"Disease":t=m;break;case"Tricks":t=h;break;case"Exercise":t=d;break;default:t=g}return t}(e.type)),ie.current&&ie.current.cancel(),le(1e3*e.nextEvent)})).catch((function(e){return console.log(e)}))},je=function(){y((function(e){return e+1})),w((function(e){return K(e-1)})),F((function(e){return K(e+1)})),Q((function(e){return K(e-(Math.floor(5*Math.random())+1))}))},de=function(){y(0),w(100),F(0),Q(100),_(!1),ce.current&&ce.current.cancel(),ie.current&&ie.current.cancel(),oe(),le(5e3)},be=function(){ne(!1)},pe=Object(c.useCallback)((function(e,t){return U.StaticBanner.show({icon:Object(n.jsx)("div",{}),iconProps:{src:t,className:se.avatarLarge},open:!0,label:e})}),[se.avatarLarge]);return Object(c.useEffect)((function(){S<=0&&(ne(!0),ce.current&&ce.current.cancel(),ie.current&&ie.current.cancel(),_(!0))}),[S]),Object(c.useEffect)((function(){void 0!==re&&r(re)}),[re]),Object(c.useEffect)((function(){oe(),le(5e3)}),[]),Object(n.jsxs)(i.a.Fragment,{children:[Object(n.jsx)(B.a,{}),Object(n.jsx)(U.StaticBanner,{}),Object(n.jsxs)(R.a,{container:!0,component:"main",className:se.root,children:[Object(n.jsx)(H.a,{className:se.paper,children:Object(n.jsxs)(R.a,{container:!0,spacing:2,children:[Object(n.jsx)(R.a,{item:!0,xs:8,sm:8,md:6,container:!0,children:Object(n.jsx)(R.a,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:Object(n.jsxs)(R.a,{item:!0,xs:!0,children:[Object(n.jsx)(x.a,{variant:"h2",children:a}),Object(n.jsxs)(x.a,{variant:"h6",children:["Age: ",O]}),Object(n.jsx)(x.a,{variant:"body1",children:"Health:"}),Object(n.jsx)(L,{value:S}),Object(n.jsx)(x.a,{variant:"body1",children:"Hunger:"}),Object(n.jsx)(L,{value:T}),Object(n.jsx)(x.a,{variant:"body1",children:"Happiness:"}),Object(n.jsx)(L,{value:G}),Object(n.jsxs)(W.a,{color:"primary",variant:"contained","aria-label":"outlined primary button group",children:[Object(n.jsx)(M.a,{disabled:$,onClick:function(){$||w((function(e){return K(e+1)}))},children:"Clean"}),Object(n.jsx)(M.a,{disabled:$,onClick:function(){$||F((function(e){return K(e-1)}))},children:"Feed"}),Object(n.jsx)(M.a,{disabled:$,onClick:function(){$||Q((function(e){return K(e+(Math.floor(5*Math.random())+1))}))},children:"Play"})]}),Object(n.jsx)(M.a,{onClick:de,children:$?"Play again!":"Reset Game"})]})})}),Object(n.jsx)(R.a,{item:!0,xs:4,sm:4,md:6,children:Object(n.jsx)(I,{name:a,happiness:G,age:O,health:S})})]})}),Object(n.jsx)(v,{})]}),$&&Object(n.jsxs)(q.a,{open:ae,onClose:be,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(A.a,{id:"alert-dialog-title",children:"Game Over."}),Object(n.jsx)(Y.a,{children:Object(n.jsx)(z.a,{id:"alert-dialog-description",children:"Great job! Let's play again!"})}),Object(n.jsxs)(J.a,{children:[Object(n.jsx)(M.a,{onClick:be,color:"primary",children:"Close"}),Object(n.jsx)(M.a,{onClick:de,color:"primary",autoFocus:!0,children:"Start Over!"})]})]})]})}})]})}),document.getElementById("root")),$(console.log)}},[[291,1,2]]]);
//# sourceMappingURL=main.8ce5be85.chunk.js.map